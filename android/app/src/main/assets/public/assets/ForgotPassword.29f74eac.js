import{A as I}from"./AuthLayout.ae19d9c2.js";import{B as r}from"./BaseInput.23f77a2d.js";import{_ as v}from"./BaseButton.vue_vue_type_script_setup_true_lang.ce15cb39.js";import{_ as b}from"./BaseLink.vue_vue_type_script_setup_true_lang.eaad37fd.js";import{d as k,a as l,u as S,o as c,c as O,w as n,b as d,e as o,f as U,i as g,F as A,g as p,h as L,O as _,t as w,R as h}from"./index.34c5d693.js";import"./LogoWithText.909b0ce5.js";/* empty css                                                                   */const T=d("div",{class:"text-3xl text-white"},"Forget Password",-1),B=d("div",{class:"mt-3 mb-10 text-lg text-white"},"Let's get you back on track",-1),C=p("Login Instead"),N={key:0},R=p("Submit"),E={key:1},F={class:"text-sm"},G=p("Submit"),M=k({__name:"ForgotPassword",setup(H){const f=l(1),i=l(!1),u=l(!1),m=l(!1),x=L();S();const e=l({loginId:"",otp:"",password:"",confirmPassword:""}),V=async()=>{m.value=!1,u.value=!0;const a=await _.forgotPassword(e.value.loginId);a.status&&(m.value=!0,f.value++,w.success(a.message)),u.value=!1},y=async()=>{i.value=!0,m.value=!1,u.value=!0;const a=await _.resetPassword({otp:e.value.otp,password:e.value.password,email:e.value.loginId});a.status&&(w.success(a.message),P()),i.value=!1},P=()=>{x.push({name:h.AUTH_LOGIN})};return(a,t)=>(c(),O(I,null,{title:n(()=>[d("div",null,[T,B,o(b,{textColor:"text-white",route:U(h).AUTH_LOGIN},{default:n(()=>[C]),_:1},8,["route"])])]),form:n(()=>[f.value===1?(c(),g("div",N,[o(r,{type:"text",placeholder:"Email or Username",modelValue:e.value.loginId,"onUpdate:modelValue":t[0]||(t[0]=s=>e.value.loginId=s)},null,8,["modelValue"]),o(v,{class:"mt-5 w-full bg-orange",onClick:V,loading:u.value},{default:n(()=>[R]),_:1},8,["loading"])])):(c(),g("div",E,[d("span",F,"An OTP has been sent to the email for "+A(e.value.loginId),1),o(r,{type:"text",placeholder:"OTP",modelValue:e.value.otp,"onUpdate:modelValue":t[1]||(t[1]=s=>e.value.otp=s)},null,8,["modelValue"]),o(r,{type:"text",placeholder:"New Password",modelValue:e.value.password,"onUpdate:modelValue":t[2]||(t[2]=s=>e.value.password=s)},null,8,["modelValue"]),o(r,{type:"text",placeholder:"Confirm Password",modelValue:e.value.confirmPassword,"onUpdate:modelValue":t[3]||(t[3]=s=>e.value.confirmPassword=s)},null,8,["modelValue"]),o(v,{class:"mt-5 w-full bg-orange",onClick:y,loading:i.value},{default:n(()=>[G]),_:1},8,["loading"])]))]),_:1}))}});export{M as default};
