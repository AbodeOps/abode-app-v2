import{A as S}from"./AuthLayout.ae19d9c2.js";import{B as p}from"./BaseInput.23f77a2d.js";import{_ as f}from"./BaseButton.vue_vue_type_script_setup_true_lang.ce15cb39.js";import{d as b,a,u as k,o as c,c as I,w as l,i as v,e as n,b as i,F as A,g as h,h as E,O as g,t as _,R as O}from"./index.34c5d693.js";import"./LogoWithText.909b0ce5.js";/* empty css                                                                   */const B=i("div",null,[i("div",{class:"text-3xl text-white"},"Verify Email"),i("div",{class:"mt-3 mb-10 text-lg text-white"},"Let's get you on track")],-1),T={key:0},L=h("Submit"),U={key:1},C={class:"text-sm"},N=h("Submit"),j=b({__name:"ActivateEmail",setup(P){const m=a(1),u=a(!1),s=a(!1),r=a(!1),x=E();k();const e=a({loginId:"",otp:"",password:"",confirmPassword:""}),y=async()=>{r.value=!1,s.value=!0;const t=await g.resendEmailVerification(e.value.loginId);t.status&&(r.value=!0,m.value++,_.success(t.message)),s.value=!1},V=async()=>{u.value=!0,r.value=!1,s.value=!0;const t=await g.verifyEmail({otp:e.value.otp,email:e.value.loginId});t.status&&(_.success(t.message),w()),u.value=!1},w=()=>{x.push({name:O.AUTH_LOGIN})};return(t,o)=>(c(),I(S,null,{title:l(()=>[B]),form:l(()=>[m.value===1?(c(),v("div",T,[n(p,{type:"text",placeholder:"Email or Username",modelValue:e.value.loginId,"onUpdate:modelValue":o[0]||(o[0]=d=>e.value.loginId=d)},null,8,["modelValue"]),n(f,{class:"mt-5 w-full bg-orange",onClick:y,loading:s.value},{default:l(()=>[L]),_:1},8,["loading"])])):(c(),v("div",U,[i("span",C,"An OTP has been sent to the email for "+A(e.value.loginId),1),n(p,{type:"text",placeholder:"OTP",modelValue:e.value.otp,"onUpdate:modelValue":o[1]||(o[1]=d=>e.value.otp=d)},null,8,["modelValue"]),n(f,{class:"mt-5 w-full bg-orange",onClick:V,loading:u.value},{default:l(()=>[N]),_:1},8,["loading"])]))]),_:1}))}});export{j as default};
